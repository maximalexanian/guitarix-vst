// generated automatically
// DO NOT MODIFY!
declare id "fuzzfacefm";
declare name "Fuzz Face Fuller";
declare category "Fuzz";
declare shortname "FF Fuller";
declare description "Micke Fuller Fuzz Face simulation";
declare insert_p "clipper";
declare volume_p "Level";

import("stdfaust.lib");
import("trany.lib");

process =  fi.iir((b0/a0,b1/a0,b2/a0,b3/a0),(a1/a0,a2/a0,a3/a0))   with {
    LogPot(a, x) = ba.if(a, (exp(a * x) - 1) / (exp(a) - 1), x);
    Inverted(b, x) = ba.if(b, 1 - x, x);
    s = 0.993;
    fs = float(ma.SR);
    pre = _;
    //clip = tranystage(TB_KT88_68k,86.0,2700.0,5.562895) : tranystage(TB_KT88_68k,86.0,2700.0,5.562895) ;
    
        Drive = vslider("Drive[name:Drive]", 0.5, 0, 1, 0.01) : Inverted(1) : si.smooth(s);
    
        Fuzz = vslider("Fuzz[name:Fuzz]", 0.5, 0, 1, 0.01) : Inverted(1) : si.smooth(s);
    
        Input = vslider("Input[name:Input]", 0.5, 0, 1, 0.01) : Inverted(0) : si.smooth(s);
    
        //Level = vslider("Level[name:Level]", 0.5, 0, 1, 0.01) : Inverted(1) : si.smooth(s);
    
    b0 = Drive*(Fuzz*(Fuzz*(-1.12927979815576e-15*pow(fs,3) + 1.4115997476947e-15*pow(fs,3)) - 1.11420586447254e-13*pow(fs,3) + 1.39275733059067e-13*pow(fs,3)) + pow(fs,2)*(1.12549866245409e-13*fs + 2.58361695553557e-12) + pow(fs,2)*(-1.40687332806762e-13*fs - 3.22952119441946e-12)) + Fuzz*(Fuzz*(1.66004130328897e-15*pow(fs,3) - 2.07505162911121e-15*pow(fs,3)) + 1.63788262077463e-13*pow(fs,3) - 2.04735327596828e-13*pow(fs,3)) + pow(fs,2)*(-1.65448303380752e-13*fs - 3.79791692463729e-12) + pow(fs,2)*(2.0681037922594e-13*fs + 4.74739615579661e-12);

    b1 = Drive*(Fuzz*(Fuzz*(3.38783939446729e-15*pow(fs,3) - 4.23479924308411e-15*pow(fs,3)) + 3.34261759341761e-13*pow(fs,3) - 4.17827199177201e-13*pow(fs,3)) + pow(fs,2)*(-3.37649598736228e-13*fs - 2.58361695553557e-12) + pow(fs,2)*(4.22061998420285e-13*fs + 3.22952119441946e-12)) + Fuzz*(Fuzz*(-4.98012390986691e-15*pow(fs,3) + 6.22515488733364e-15*pow(fs,3)) - 4.91364786232388e-13*pow(fs,3) + 6.14205982790485e-13*pow(fs,3)) + pow(fs,2)*(4.96344910142255e-13*fs + 3.79791692463729e-12) + pow(fs,2)*(-6.20431137677819e-13*fs - 4.74739615579661e-12);

    b2 = Drive*(Fuzz*(Fuzz*(-3.38783939446729e-15*pow(fs,3) + 4.23479924308411e-15*pow(fs,3)) - 3.34261759341761e-13*pow(fs,3) + 4.17827199177201e-13*pow(fs,3)) + pow(fs,2)*(3.37649598736228e-13*fs - 2.58361695553557e-12) + pow(fs,2)*(-4.22061998420285e-13*fs + 3.22952119441946e-12)) + Fuzz*(Fuzz*(4.98012390986691e-15*pow(fs,3) - 6.22515488733364e-15*pow(fs,3)) + 4.91364786232388e-13*pow(fs,3) - 6.14205982790485e-13*pow(fs,3)) + pow(fs,2)*(-4.96344910142255e-13*fs + 3.79791692463729e-12) + pow(fs,2)*(6.20431137677819e-13*fs - 4.74739615579661e-12);

    b3 = Drive*(Fuzz*(Fuzz*(1.12927979815576e-15*pow(fs,3) - 1.4115997476947e-15*pow(fs,3)) + 1.11420586447254e-13*pow(fs,3) - 1.39275733059067e-13*pow(fs,3)) + pow(fs,2)*(-1.12549866245409e-13*fs + 2.58361695553557e-12) + pow(fs,2)*(1.40687332806762e-13*fs - 3.22952119441946e-12)) + Fuzz*(Fuzz*(-1.66004130328897e-15*pow(fs,3) + 2.07505162911121e-15*pow(fs,3)) - 1.63788262077463e-13*pow(fs,3) + 2.04735327596828e-13*pow(fs,3)) + pow(fs,2)*(1.65448303380752e-13*fs - 3.79791692463729e-12) + pow(fs,2)*(-2.0681037922594e-13*fs + 4.74739615579661e-12);

    a0 = Drive*(Fuzz*(Fuzz*fs*(fs*(1.42504059392599e-16*fs + 6.43443174346988e-16) - 3.26234246975457e-55) + fs*(fs*(-1.42392288693486e-16*fs - 6.43214948741896e-16) + 3.45797348759893e-55)) + fs*(fs*(-1.1177069911304e-19*fs - 3.24149709132582e-15) - 1.46288954534563e-14) + 6.96979875434139e-54) + Fuzz*(Fuzz*fs*(fs*(-7.14615106636066e-14*fs - 7.44787041826973e-12) - 3.21721587173494e-11) + fs*(fs*(7.14054610111223e-14*fs + 7.44216743501989e-12) + 3.21607474370948e-11)) + Input*(Drive*(Fuzz*(Fuzz*pow(fs,2)*(-1.41557498356337e-16*fs + 7.17715343346006e-56) + pow(fs,2)*(1.41507288723217e-16*fs - 7.60754167271764e-56)) + fs*(fs*(5.02096331201311e-20*fs + 3.21835699976039e-15) - 1.53335572595511e-54)) + Fuzz*(Fuzz*pow(fs,2)*(7.09868387007524e-14*fs + 7.07787491781686e-12) + pow(fs,2)*(-7.09616600760317e-14*fs - 7.07536443616085e-12)) + fs*(fs*(-2.51786247207522e-17*fs - 1.61641996632585e-12) - 1.6091784998802e-10)) + fs*(fs*(5.60496524842164e-17*fs + 1.63110208134281e-12) + 1.69410806769336e-10) + 7.31444772672817e-10;

    a1 = Drive*(Fuzz*(Fuzz*fs*(fs*(-4.27512178177797e-16*fs - 6.43443174346988e-16) - 3.26234246975457e-55) + fs*(fs*(4.27176866080457e-16*fs + 6.43214948741896e-16) + 3.45797348759893e-55)) + fs*(fs*(3.35312097339121e-19*fs + 3.24149709132582e-15) - 1.46288954534563e-14) + 2.09093962630242e-53) + Fuzz*(Fuzz*fs*(fs*(2.1438453199082e-13*fs + 7.44787041826973e-12) - 3.21721587173494e-11) + fs*(fs*(-2.14216383033367e-13*fs - 7.44216743501989e-12) + 3.21607474370948e-11)) + Input*(Drive*(Fuzz*(Fuzz*pow(fs,2)*(4.24672495069012e-16*fs - 7.17715343346006e-56) + pow(fs,2)*(-4.24521866169651e-16*fs + 7.60754167271764e-56)) + fs*(fs*(-1.50628899360393e-19*fs - 3.21835699976039e-15) - 1.53335572595511e-54)) + Fuzz*(Fuzz*pow(fs,2)*(-2.12960516102257e-13*fs - 7.07787491781686e-12) + pow(fs,2)*(2.12884980228095e-13*fs + 7.07536443616085e-12)) + fs*(fs*(7.55358741622564e-17*fs + 1.61641996632585e-12) - 1.6091784998802e-10)) + fs*(fs*(-1.68148957452649e-16*fs - 1.63110208134281e-12) + 1.69410806769336e-10) + 2.19433431801845e-9;

    a2 = Drive*(Fuzz*(Fuzz*fs*(fs*(4.27512178177797e-16*fs - 6.43443174346988e-16) + 3.26234246975457e-55) + fs*(fs*(-4.27176866080457e-16*fs + 6.43214948741896e-16) - 3.45797348759893e-55)) + fs*(fs*(-3.35312097339121e-19*fs + 3.24149709132582e-15) + 1.46288954534563e-14) + 2.09093962630242e-53) + Fuzz*(Fuzz*fs*(fs*(-2.1438453199082e-13*fs + 7.44787041826973e-12) + 3.21721587173494e-11) + fs*(fs*(2.14216383033367e-13*fs - 7.44216743501989e-12) - 3.21607474370948e-11)) + Input*(Drive*(Fuzz*(Fuzz*pow(fs,2)*(-4.24672495069012e-16*fs - 7.17715343346006e-56) + pow(fs,2)*(4.24521866169651e-16*fs + 7.60754167271764e-56)) + fs*(fs*(1.50628899360393e-19*fs - 3.21835699976039e-15) + 1.53335572595511e-54)) + Fuzz*(Fuzz*pow(fs,2)*(2.12960516102257e-13*fs - 7.07787491781686e-12) + pow(fs,2)*(-2.12884980228095e-13*fs + 7.07536443616085e-12)) + fs*(fs*(-7.55358741622564e-17*fs + 1.61641996632585e-12) + 1.6091784998802e-10)) + fs*(fs*(1.68148957452649e-16*fs - 1.63110208134281e-12) - 1.69410806769336e-10) + 2.19433431801845e-9;

    a3 = Drive*(Fuzz*(Fuzz*fs*(fs*(-1.42504059392599e-16*fs + 6.43443174346988e-16) + 3.26234246975457e-55) + fs*(fs*(1.42392288693486e-16*fs - 6.43214948741896e-16) - 3.45797348759893e-55)) + fs*(fs*(1.1177069911304e-19*fs - 3.24149709132582e-15) + 1.46288954534563e-14) + 6.96979875434139e-54) + Fuzz*(Fuzz*fs*(fs*(7.14615106636066e-14*fs - 7.44787041826973e-12) + 3.21721587173494e-11) + fs*(fs*(-7.14054610111223e-14*fs + 7.44216743501989e-12) - 3.21607474370948e-11)) + Input*(Drive*(Fuzz*(Fuzz*pow(fs,2)*(1.41557498356337e-16*fs + 7.17715343346006e-56) + pow(fs,2)*(-1.41507288723217e-16*fs - 7.60754167271764e-56)) + fs*(fs*(-5.02096331201311e-20*fs + 3.21835699976039e-15) + 1.53335572595511e-54)) + Fuzz*(Fuzz*pow(fs,2)*(-7.09868387007524e-14*fs + 7.07787491781686e-12) + pow(fs,2)*(7.09616600760317e-14*fs - 7.07536443616085e-12)) + fs*(fs*(2.51786247207522e-17*fs - 1.61641996632585e-12) + 1.6091784998802e-10)) + fs*(fs*(-5.60496524842164e-17*fs + 1.63110208134281e-12) - 1.69410806769336e-10) + 7.31444772672817e-10;
};
