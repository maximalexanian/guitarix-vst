// generated automatically
// DO NOT MODIFY!
declare id "fuzzwah";
declare name "Fuzz Wah Face";
declare category "Guitar Effects";
declare shortname "Fuzz Wah";
declare description "Dallas Arbiter Fuzz Wah Face";

import("stdfaust.lib");

    LogPot(a, x) = ba.if(a, (exp(a * x) - 1) / (exp(a) - 1), x);
    Inverted(b, x) = ba.if(b, 1 - x, x);
    wet = vslider("wet_dry[name:Wet/Dry][tooltip:percentage of processed signal in output signal]",  100, 0, 100, 1) : /(100);
    dry = 1 - wet;
    fs = float(ma.SR);
    s = 0.993;

fuzz = fi.iir((b0/a0,b1/a0,b2/a0,b3/a0),(a1/a0,a2/a0,a3/a0)) : clipper with {
    shape = 10.;
    atan_v=1.0/atan(shape);
    clipper(x) = atan_v * atan(x*shape);

    Volume = vslider("Volume[name:Volume]", 0.5, 0, 1, 0.01) : Inverted(0) : LogPot(0) : si.smooth(s);
    
    b0 = Volume*pow(fs,2)*(2.03293413775766e-12*fs + 3.76950304482722e-11) + pow(fs,2)*(2.03293413775766e-15*fs + 3.76950304482722e-14);

    b1 = Volume*pow(fs,2)*(-6.09880241327297e-12*fs - 3.76950304482722e-11) + pow(fs,2)*(-6.09880241327297e-15*fs - 3.76950304482722e-14);

    b2 = Volume*pow(fs,2)*(6.09880241327297e-12*fs - 3.76950304482722e-11) + pow(fs,2)*(6.09880241327297e-15*fs - 3.76950304482722e-14);

    b3 = Volume*pow(fs,2)*(-2.03293413775766e-12*fs + 3.76950304482722e-11) + pow(fs,2)*(-2.03293413775766e-15*fs + 3.76950304482722e-14);

    a0 = fs*(fs*(7.84175196356216e-15*fs + 5.70450678139714e-11) + 2.77707446985809e-8) + 1.34856811452293e-7;

    a1 = fs*(fs*(-2.35252558906865e-14*fs - 5.70450678139714e-11) + 2.77707446985809e-8) + 4.04570434356877e-7;

    a2 = fs*(fs*(2.35252558906865e-14*fs - 5.70450678139714e-11) - 2.77707446985809e-8) + 4.04570434356877e-7;

    a3 = fs*(fs*(-7.84175196356216e-15*fs + 5.70450678139714e-11) - 2.77707446985809e-8) + 1.34856811452293e-7;
};

wah = fi.iir((b0/a0,b1/a0,b2/a0,b3/a0,b4/a0,b5/a0,b6/a0),(a1/a0,a2/a0,a3/a0,a4/a0,a5/a0,a6/a0)) with {

    Wah = vslider("Wah[name:Wah]", 0.5, 0, 1, 0.01) : Inverted(0) : LogPot(0) : si.smooth(s);

    b0 = Wah*(Wah*pow(fs,3)*(fs*(fs*(1.66116058346743e-30*fs + 6.25504074203227e-26) + 9.16801777179336e-23) + 6.33211249030232e-21) + pow(fs,2)*(fs*(fs*(fs*(-1.83963551537025e-30*fs - 6.95139897479738e-26) - 1.03102897783929e-22) - 8.88807636639375e-21) - 1.28080716242027e-19)) + pow(fs,2)*(fs*(fs*(fs*(-3.35923180991732e-30*fs - 2.84219286401136e-25) - 4.27409553426189e-22) - 3.20024979131437e-20) - 1.77668700625766e-19);

    b1 = Wah*(Wah*pow(fs,4)*(fs*(-9.96696350080457e-30*fs - 2.50201629681291e-25) - 1.83360355435867e-22) + pow(fs,2)*(pow(fs,2)*(fs*(1.10378130922215e-29*fs + 2.78055958991895e-25) + 2.06205795567859e-22) - 2.56161432484054e-19)) + pow(fs,2)*(pow(fs,2)*(fs*(2.01553908595039e-29*fs + 1.13687714560455e-24) + 8.54819106852377e-22) - 3.55337401251533e-19);

    b2 = Wah*(Wah*pow(fs,3)*(fs*(fs*(2.49174087520114e-29*fs + 3.12752037101614e-25) - 9.16801777179336e-23) - 1.8996337470907e-20) + pow(fs,2)*(fs*(fs*(fs*(-2.75945327305537e-29*fs - 3.47569948739869e-25) + 1.03102897783929e-22) + 2.66642290991813e-20) + 1.28080716242027e-19)) + pow(fs,2)*(fs*(fs*(fs*(-5.03884771487598e-29*fs - 1.42109643200568e-24) + 4.27409553426189e-22) + 9.60074937394311e-20) + 1.77668700625766e-19);

    b3 = Wah*(Wah*pow(fs,4)*(-3.32232116693486e-29*pow(fs,2) + 3.66720710871734e-22) + pow(fs,2)*(pow(fs,2)*(3.6792710307405e-29*pow(fs,2) - 4.12411591135718e-22) + 5.12322864968107e-19)) + pow(fs,2)*(pow(fs,2)*(6.71846361983464e-29*pow(fs,2) - 1.70963821370475e-21) + 7.10674802503066e-19);

    b4 = Wah*(Wah*pow(fs,3)*(fs*(fs*(2.49174087520114e-29*fs - 3.12752037101614e-25) - 9.16801777179336e-23) + 1.8996337470907e-20) + pow(fs,2)*(fs*(fs*(fs*(-2.75945327305537e-29*fs + 3.47569948739869e-25) + 1.03102897783929e-22) - 2.66642290991813e-20) + 1.28080716242027e-19)) + pow(fs,2)*(fs*(fs*(fs*(-5.03884771487598e-29*fs + 1.42109643200568e-24) + 4.27409553426189e-22) - 9.60074937394311e-20) + 1.77668700625766e-19);

    b5 = Wah*(Wah*pow(fs,4)*(fs*(-9.96696350080457e-30*fs + 2.50201629681291e-25) - 1.83360355435867e-22) + pow(fs,2)*(pow(fs,2)*(fs*(1.10378130922215e-29*fs - 2.78055958991895e-25) + 2.06205795567859e-22) - 2.56161432484054e-19)) + pow(fs,2)*(pow(fs,2)*(fs*(2.01553908595039e-29*fs - 1.13687714560455e-24) + 8.54819106852377e-22) - 3.55337401251533e-19);

    b6 = Wah*(Wah*pow(fs,3)*(fs*(fs*(1.66116058346743e-30*fs - 6.25504074203227e-26) + 9.16801777179336e-23) - 6.33211249030232e-21) + pow(fs,2)*(fs*(fs*(fs*(-1.83963551537025e-30*fs + 6.95139897479738e-26) - 1.03102897783929e-22) + 8.88807636639375e-21) - 1.28080716242027e-19)) + pow(fs,2)*(fs*(fs*(fs*(-3.35923180991732e-30*fs + 2.84219286401136e-25) - 4.27409553426189e-22) + 3.20024979131437e-20) - 1.77668700625766e-19);

    a0 = Wah*(Wah*fs*(fs*(fs*(fs*(fs*(-2.56352431682851e-29*fs - 5.82156326166346e-26) - 1.38049274052799e-22) - 2.27598160591724e-19) - 2.18551035017861e-18) - 2.26238718666108e-30) + fs*(fs*(fs*(fs*(fs*(1.56831555560877e-28*fs + 3.15119485962137e-25) + 1.66997410870093e-22) + 2.51284408514286e-19) + 8.10744438516679e-18) + 5.51896553075366e-17)) + fs*(fs*(fs*(fs*(fs*(5.4124550626461e-30*fs + 4.82535581868538e-26) + 7.47693155349632e-22) + 1.30467913352008e-18) + 4.28304388592412e-17) + 4.42021332853857e-16) + 1.39367816433173e-15;

    a1 = Wah*(Wah*fs*(fs*(pow(fs,2)*(fs*(1.53811459009711e-28*fs + 2.32862530466538e-25) + 2.76098548105598e-22) - 4.37102070035722e-18) - 9.0495487466443e-30) + fs*(fs*(pow(fs,2)*(fs*(-9.40989333365263e-28*fs - 1.26047794384855e-24) - 3.33994821740186e-22) + 1.62148887703336e-17) + 2.20758621230146e-16)) + fs*(fs*(pow(fs,2)*(fs*(-3.24747303758766e-29*fs - 1.93014232747415e-25) - 1.49538631069926e-21) + 8.56608777184824e-17) + 1.76808533141543e-15) + 8.3620689859904e-15;

    a2 = Wah*(Wah*fs*(fs*(fs*(fs*(fs*(-3.84528647524277e-28*fs - 2.91078163083173e-25) + 1.38049274052799e-22) + 6.82794481775172e-19) + 2.18551035017861e-18) - 1.13119359333054e-29) + fs*(fs*(fs*(fs*(fs*(2.35247333341316e-27*fs + 1.57559742981069e-24) - 1.66997410870093e-22) - 7.53853225542858e-19) - 8.10744438516679e-18) + 2.75948276537683e-16)) + fs*(fs*(fs*(fs*(fs*(8.11868259396916e-29*fs + 2.41267790934269e-25) - 7.47693155349632e-22) - 3.91403740056023e-18) - 4.28304388592412e-17) + 2.21010666426929e-15) + 2.0905172464976e-14;

    a3 = Wah*(Wah*pow(fs,2)*(pow(fs,2)*(5.12704863365702e-28*pow(fs,2) - 5.52197096211195e-22) + 8.74204140071444e-18) + pow(fs,2)*(pow(fs,2)*(-3.13663111121754e-27*pow(fs,2) + 6.67989643480371e-22) - 3.24297775406672e-17)) + pow(fs,2)*(pow(fs,2)*(-1.08249101252922e-28*pow(fs,2) + 2.99077262139853e-21) - 1.71321755436965e-16) + 2.78735632866347e-14;

    a4 = Wah*(Wah*fs*(fs*(fs*(fs*(fs*(-3.84528647524277e-28*fs + 2.91078163083173e-25) + 1.38049274052799e-22) - 6.82794481775172e-19) + 2.18551035017861e-18) + 1.13119359333054e-29) + fs*(fs*(fs*(fs*(fs*(2.35247333341316e-27*fs - 1.57559742981069e-24) - 1.66997410870093e-22) + 7.53853225542858e-19) - 8.10744438516679e-18) - 2.75948276537683e-16)) + fs*(fs*(fs*(fs*(fs*(8.11868259396916e-29*fs - 2.41267790934269e-25) - 7.47693155349632e-22) + 3.91403740056023e-18) - 4.28304388592412e-17) - 2.21010666426929e-15) + 2.0905172464976e-14;

    a5 = Wah*(Wah*fs*(fs*(pow(fs,2)*(fs*(1.53811459009711e-28*fs - 2.32862530466538e-25) + 2.76098548105598e-22) - 4.37102070035722e-18) + 9.0495487466443e-30) + fs*(fs*(pow(fs,2)*(fs*(-9.40989333365263e-28*fs + 1.26047794384855e-24) - 3.33994821740186e-22) + 1.62148887703336e-17) - 2.20758621230146e-16)) + fs*(fs*(pow(fs,2)*(fs*(-3.24747303758766e-29*fs + 1.93014232747415e-25) - 1.49538631069926e-21) + 8.56608777184824e-17) - 1.76808533141543e-15) + 8.3620689859904e-15;

    a6 = Wah*(Wah*fs*(fs*(fs*(fs*(fs*(-2.56352431682851e-29*fs + 5.82156326166346e-26) - 1.38049274052799e-22) + 2.27598160591724e-19) - 2.18551035017861e-18) + 2.26238718666108e-30) + fs*(fs*(fs*(fs*(fs*(1.56831555560877e-28*fs - 3.15119485962137e-25) + 1.66997410870093e-22) - 2.51284408514286e-19) + 8.10744438516679e-18) - 5.51896553075366e-17)) + fs*(fs*(fs*(fs*(fs*(5.4124550626461e-30*fs - 4.82535581868538e-26) + 7.47693155349632e-22) - 1.30467913352008e-18) + 4.28304388592412e-17) - 4.42021332853857e-16) + 1.39367816433173e-15;
};

process = _<:*(dry),(*(wet) : fuzz : wah ):>_;
